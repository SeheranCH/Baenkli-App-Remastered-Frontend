{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\swesthauser\\\\Documents\\\\_D\\\\Workspace\\\\tbz\\\\Baenkli-App-Remastered-Frontend\\\\src\\\\components\\\\pages\\\\homePage\\\\HomePage.js\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Navbar from \"../../molecules/navbar/Navbar\";\nimport BottomNavbar from \"../../molecules/bottomNavbar/BottomNavbar\";\nimport PostCard from \"../../molecules/card/Card\";\nimport Grid from '@material-ui/core/Grid';\nimport BenchService from \"../../../service/BenchService\";\n\nconst HomePage = () => {\n  const [benches, setBenches] = useState([]);\n\n  function getAllBenches() {\n    BenchService.getAll().then(res => {\n      const data = res.data;\n      setBenches(data);\n    }).catch(err => {\n      console.error('Error in HomePage.js ', err);\n    });\n  }\n\n  useEffect(() => {\n    // Update the document title using the browser API\n    getAllBenches(); // eslint-disable-next-line\n  }, []);\n\n  function calcAverage(array, isRating) {\n    var total = 0;\n    var length = 0;\n    length = array.length;\n\n    if (isRating) {\n      array.map(r => total += r.rating);\n    } else {\n      array.map(q => total += q.quiet);\n    }\n\n    let result = total / length;\n    return Math.round(result * 2) / 2;\n  }\n\n  function randomImg(width, height, key) {\n    var source = 'https://source.unsplash.com/random/' + width + 'x' + height + '/?bench,park' + key;\n    return source;\n  }\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, benches.map((obj, i) => /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PostCard, {\n    id: obj.id,\n    image: randomImg(500, 500, obj.id),\n    title: obj.title,\n    description: obj.description,\n    averageQuiet: obj.quietness,\n    averageRating: calcAverage(obj.ratings, true),\n    amountBenches: obj.amountBenches,\n    amountFirePlaces: obj.amountFirePlaces,\n    amountTrashCans: obj.amountTrashCans,\n    distanceToNextShop: obj.distanceToNextShop,\n    directions: obj.directions,\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(BottomNavbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default HomePage;","map":{"version":3,"sources":["C:/Users/swesthauser/Documents/_D/Workspace/tbz/Baenkli-App-Remastered-Frontend/src/components/pages/homePage/HomePage.js"],"names":["React","Fragment","useState","useEffect","axios","Navbar","BottomNavbar","PostCard","Grid","BenchService","HomePage","benches","setBenches","getAllBenches","getAll","then","res","data","catch","err","console","error","calcAverage","array","isRating","total","length","map","r","rating","q","quiet","result","Math","round","randomImg","width","height","key","source","obj","i","id","title","description","quietness","ratings","amountBenches","amountFirePlaces","amountTrashCans","distanceToNextShop","directions"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Navbar from \"../../molecules/navbar/Navbar\"\r\nimport BottomNavbar from \"../../molecules/bottomNavbar/BottomNavbar\"\r\nimport PostCard from \"../../molecules/card/Card\"\r\nimport Grid from '@material-ui/core/Grid';\r\nimport BenchService from \"../../../service/BenchService\";\r\n\r\nconst HomePage = () => {\r\n\r\n  const [benches, setBenches] = useState([]);\r\n\r\n  function getAllBenches() {\r\n    BenchService.getAll()\r\n      .then(res => {\r\n        const data = res.data;\r\n        setBenches(data);\r\n      })\r\n      .catch(err => {\r\n        console.error('Error in HomePage.js ', err);\r\n      })\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Update the document title using the browser API\r\n    getAllBenches();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  function calcAverage(array, isRating) {\r\n    var total = 0;\r\n    var length = 0;\r\n    length = array.length;\r\n    if (isRating) {\r\n      array.map(r => total += r.rating);\r\n    } else {\r\n      array.map(q => total += q.quiet) ;\r\n    }\r\n\r\n    let result = total / length;\r\n\r\n    return Math.round(result * 2) / 2;\r\n  }\r\n\r\n  function randomImg(width, height, key) {\r\n    var source = 'https://source.unsplash.com/random/' + width + 'x' + height + '/?bench,park' + key;\r\n    return source;\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Navbar />\r\n      <Grid container >\r\n        {benches.map((obj, i) => (\r\n          <Grid item xs={4} key={i}>\r\n            <PostCard\r\n              id={obj.id}\r\n              image={randomImg(500, 500, obj.id)}\r\n              title={obj.title}\r\n              description={obj.description}\r\n              averageQuiet={obj.quietness}\r\n              averageRating={calcAverage(obj.ratings, true)}\r\n              amountBenches={obj.amountBenches}\r\n              amountFirePlaces={obj.amountFirePlaces}\r\n              amountTrashCans={obj.amountTrashCans}\r\n              distanceToNextShop={obj.distanceToNextShop}\r\n              directions={obj.directions}\r\n              readOnly={true}\r\n            />\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n      <BottomNavbar />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default HomePage;"]},"metadata":{},"sourceType":"module"}